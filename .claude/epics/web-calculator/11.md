---
name: 部署发布
status: completed
created: 2025-10-20T13:41:04Z
updated: 2025-10-20T15:30:00Z
github: https://github.com/womendoushihaoyin/web-calculator/issues/11
depends_on: [8, 9]
parallel: false
conflicts_with: []
---

# Task: 部署发布

## Description

将计算器应用部署到静态托管平台,使其可以通过公网 URL 访问。配置自动化部署流程,确保代码更新后自动发布。推荐使用 GitHub Pages、Vercel 或 Netlify 等免费托管服务。

## Acceptance Criteria

- [ ] 选择静态托管平台 (GitHub Pages / Vercel / Netlify)
- [ ] 配置部署流程
- [ ] 成功部署应用到生产环境
- [ ] 获得可访问的公网 URL
- [ ] 验证所有功能在生产环境中正常工作
- [ ] 配置自定义域名 (可选)
- [ ] 设置 HTTPS (大部分平台自动提供)
- [ ] 在 README.md 中更新在线演示链接

## Technical Details

### 方案 1: GitHub Pages (推荐)

**优点**: 免费、简单、与 GitHub 仓库集成

**部署步骤**:

1. **推送代码到 GitHub**:
```bash
# 创建 GitHub 仓库
# 添加远程仓库
git remote add origin https://github.com/your-username/web-calculator.git

# 推送代码
git branch -M main
git push -u origin main
```

2. **配置 GitHub Pages**:
- 访问仓库设置 (Settings)
- 左侧菜单选择 "Pages"
- Source 选择 `main` 分支
- Root 目录选择 `/` (根目录)
- 点击 Save

3. **访问部署的应用**:
- URL: `https://your-username.github.io/web-calculator/`
- 等待 1-2 分钟部署完成

**自动化部署**:
- GitHub Pages 会自动监听 `main` 分支的推送
- 每次 `git push` 后自动重新部署

---

### 方案 2: Vercel

**优点**: 部署速度快、支持自定义域名、自动 HTTPS

**部署步骤**:

1. **安装 Vercel CLI** (可选):
```bash
npm install -g vercel
```

2. **登录并部署**:
```bash
vercel login
vercel
```

3. **通过 Web 界面部署**:
- 访问 [vercel.com](https://vercel.com)
- 连接 GitHub 仓库
- 选择 `web-calculator` 仓库
- 点击 Deploy

4. **访问部署的应用**:
- URL: `https://web-calculator-your-username.vercel.app`

---

### 方案 3: Netlify

**优点**: 拖拽部署、表单处理、无服务器函数支持

**部署步骤**:

1. **拖拽部署** (最简单):
- 访问 [app.netlify.com/drop](https://app.netlify.com/drop)
- 将 `web-calculator` 文件夹拖拽到页面
- 自动生成 URL: `https://random-name-123456.netlify.app`

2. **Git 集成部署**:
- 访问 [app.netlify.com](https://app.netlify.com)
- 点击 "New site from Git"
- 连接 GitHub 仓库
- 选择 `web-calculator` 仓库
- 点击 Deploy

---

### 自定义域名配置 (可选)

**GitHub Pages**:
1. 在仓库设置中找到 "Custom domain"
2. 输入域名 (如 `calculator.yourdomain.com`)
3. 在域名提供商处添加 CNAME 记录:
   - Name: `calculator`
   - Value: `your-username.github.io`

**Vercel/Netlify**:
1. 在项目设置中找到 "Domains"
2. 添加自定义域名
3. 按照提示配置 DNS 记录

---

### 部署后验证清单

**功能验证**:
- [ ] 页面正常加载 (无 404 错误)
- [ ] 所有按钮点击正常
- [ ] 键盘快捷键工作
- [ ] 四则运算计算正确
- [ ] 响应式布局正常 (测试不同设备)
- [ ] 无控制台错误

**性能验证**:
- [ ] 首次加载时间 < 1 秒
- [ ] 文件大小 < 100KB
- [ ] Lighthouse 得分 > 90 (可选)

**安全验证**:
- [ ] HTTPS 正常启用
- [ ] 无安全警告
- [ ] Content Security Policy (可选)

---

### 性能优化建议

**HTML 优化**:
```html
<!-- 添加元信息 -->
<meta name="description" content="简洁的网页四则运算计算器,无需安装,打开即用">
<meta name="keywords" content="计算器,在线计算器,网页计算器">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🧮</text></svg>">
```

**CSS 优化** (已在 Task 4 中实现):
- 使用 CSS Grid 而非 Flexbox (性能更好)
- 最小化 CSS 选择器复杂度
- 避免不必要的重绘和回流

**JavaScript 优化** (已在 Task 5 中实现):
- 使用事件委托减少事件监听器数量
- 避免全局变量污染
- 最小化 DOM 操作次数

---

### 部署后更新 README.md

在 README.md 中更新在线演示链接:

```markdown
## 在线演示

🔗 [点击这里访问在线演示](https://your-username.github.io/web-calculator/)

或访问备用链接:
- Vercel: https://web-calculator.vercel.app
- Netlify: https://web-calculator.netlify.app
```

---

### 监控和维护 (可选)

**Google Analytics** (可选):
```html
<!-- 添加到 <head> 标签中 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XXXXXXXXXX');
</script>
```

**错误监控** (可选):
- Sentry: 前端错误追踪
- LogRocket: 用户行为录制

## Dependencies

- [ ] Task 8: 跨浏览器测试完成 (确保功能稳定)
- [ ] Task 9: 文档编写完成 (README.md 已完善)

## Effort Estimate

- **Size**: S
- **Hours**: 1-2 小时
- **Parallel**: false (依赖测试完成,需最后执行)

## Definition of Done

- [ ] 应用成功部署到至少一个托管平台
- [ ] 获得可访问的公网 URL
- [ ] 所有功能在生产环境中正常工作
- [ ] HTTPS 已启用
- [ ] README.md 中已更新在线演示链接
- [ ] 部署流程已文档化
- [ ] 验证页面加载时间 < 1 秒
- [ ] 在至少 2 个不同设备上访问验证
- [ ] 项目状态更新为 "已发布"
